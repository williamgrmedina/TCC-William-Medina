<?xml version="1.0" encoding="UTF-8"?>


<!DOCTYPE doc [
  <!ENTITY err_percentage "0.5">
]>


<task>
  <source>
    <type>DBMS</type>
    <access-configuration>
      <driver>org.postgresql.Driver</driver>
      <uri>jdbc:postgresql:flights</uri>
      <schema>public</schema>
      <login>postgres</login>
      <password>postgres</password>
    </access-configuration>
  </source>
  <target>
    <type>DBMS</type>
    <access-configuration>
      <driver>org.postgresql.Driver</driver>
      <uri>jdbc:postgresql:flights</uri>
      <schema>target</schema>
      <login>postgres</login>
      <password>postgres</password>
    </access-configuration>
  </target>

  <configuration>
    <printLog>true</printLog>
    <checkChanges>true</checkChanges>
    <recreateDBOnStart>false</recreateDBOnStart>
    <applyCellChanges>true</applyCellChanges>
    <estimateRepairability>true</estimateRepairability>
    <useDeltaDBForChanges>true</useDeltaDBForChanges>
    <cloneTargetSchema>true</cloneTargetSchema>
    <cloneSuffix>_dirty</cloneSuffix>
    <avoidInteractions>true</avoidInteractions>
    <exportDirtyDB>true</exportDirtyDB>
		<exportDirtyDBPath>dirty_&err_percentage;/</exportDirtyDBPath><exportDirtyDBType>CSV</exportDirtyDBType>
		<exportCellChanges>true</exportCellChanges>
		<exportCellChangesPath>dirty_&err_percentage;/cellChanges.csv</exportCellChangesPath>

    <randomErrors>
			<tables>
				<table name="flights">
					<percentage>&err_percentage;</percentage>
					<!-- Percentage is wrt attributes to dirty in the table -->
					<attributes>
						<attribute>src</attribute>
						<attribute>flight</attribute>
            <attribute>sched_dep_time</attribute>
						<attribute>act_dep_time</attribute>
						<attribute>sched_arr_time</attribute>
						<attribute>act_arr_time</attribute>
					</attributes>
				</table>
			</tables>
		</randomErrors>

  </configuration>
</task>

